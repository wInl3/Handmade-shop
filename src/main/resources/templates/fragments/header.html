<!-- templates/fragments/header.html -->
<div class="navbar" th:fragment="header">
    <a th:href="@{/home}">Trang chá»§</a>

    <!-- âœ… Chá»‰ hiá»ƒn thá»‹ khi Ä‘Ã£ Ä‘Äƒng nháº­p -->
    <div style="margin-left: auto;" th:if="${#authorization.expression('isAuthenticated()')}">
        <span th:text="'Xin chÃ o, ' + ${#authentication.name}">TÃªn ngÆ°á»i dÃ¹ng</span>

        <!-- Role: CUSTOMER -->
        <a th:if="${#authorization.expression('hasRole(''CUSTOMER'')')}" th:href="@{/cart}">Giá» hÃ ng</a>
        <a th:if="${#authorization.expression('hasRole(''CUSTOMER'')')}" th:href="@{/orders/my-orders}">ÄÆ¡n hÃ ng</a>


        <!-- Role: SELLER -->
        <a th:if="${#authorization.expression('hasRole(''SELLER'')')}" th:href="@{/seller/products}">ğŸ“¦ QL Sáº£n pháº©m</a>
        <a th:if="${#authorization.expression('hasRole(''SELLER'')')}" th:href="@{/seller/orders}">QL ÄÆ¡n hÃ ng</a>

        <!-- Role: ADMIN -->
        <a th:if="${#authorization.expression('hasRole(''ADMIN'')')}" th:href="@{/admin/dashboard}">Admin</a>

        <!-- ÄÄƒng xuáº¥t -->
        <a href="#" onclick="logout();">ÄÄƒng xuáº¥t</a>
        <script>
            function logout() {
                // Gá»­i request Ä‘áº¿n server Ä‘á»ƒ xÃ³a cookie
                fetch('/auth/web/logout')
                    .then(() => {
                        window.location.href = '/home';
                    });
            }
        </script>

    </div>

    <!-- âœ… Chá»‰ hiá»ƒn thá»‹ khi chÆ°a Ä‘Äƒng nháº­p -->
    <div style="margin-left: auto;" th:if="${#authorization.expression('!isAuthenticated()')}">
        <a th:href="@{/auth/web/login}">ÄÄƒng nháº­p</a>
        <a th:href="@{/auth/web/register}">ÄÄƒng kÃ½</a>
    </div>

</div>
